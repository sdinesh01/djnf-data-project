[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Where’s the coal? Export locations & demographics",
    "section": "",
    "text": "This page seeks to present a test workflow for an upcoming Howard Center for Investigative Journalism project on freight trains that haul coal and pollute communities across the country with coal dust.\nStories about particulate pollution in the industrial sector have exposed environmental consequences for the air, earth, and our waterways. This project would take the first comprehensive look at communities along coal transportation routes – particularly relevant in the wake of major freight derailments, contamination events, and discussions about regulating the length and staff numbers aboard freight transport.\nThe potential impact of this project could be increased investment (social and financial) for particulate monitoring sensors along transportation hubs and/or increased industrial regulation for coal transporters. The social impact would be increasing the public awareness of industrial air pollution or providing an explanation for the phenomenon in affected communities.\nThis story would feature visual components like maps and other data graphics and photos and videos of coal trains and transportation routes.\nNext steps include: creating buffers and performing a spatial join to merge our demographic and geographic data. Then, I will take a look at demographic data at coal export locations nationwide. This analysis will precede a future analysis of complete train routes.\nThis page includes two parts: importing Census demographic data and mapping coal export locations. This test workflow will examine three communities where CSX rail lines run: Prince George’s County and Montgomery County in Maryland, and Jefferson County in West Virginia.\n\n\n\n# use this block for imports\nlibrary(leaflet) # for mapping\nlibrary(sf) # for mapping\nlibrary(janitor)\nlibrary(tidyverse)\nlibrary(tidycensus)"
  },
  {
    "objectID": "index.html#story-memo",
    "href": "index.html#story-memo",
    "title": "Where’s the coal? Export locations & demographics",
    "section": "",
    "text": "This page seeks to present a test workflow for an upcoming Howard Center for Investigative Journalism project on freight trains that haul coal and pollute communities across the country with coal dust.\nStories about particulate pollution in the industrial sector have exposed environmental consequences for the air, earth, and our waterways. This project would take the first comprehensive look at communities along coal transportation routes – particularly relevant in the wake of major freight derailments, contamination events, and discussions about regulating the length and staff numbers aboard freight transport.\nThe potential impact of this project could be increased investment (social and financial) for particulate monitoring sensors along transportation hubs and/or increased industrial regulation for coal transporters. The social impact would be increasing the public awareness of industrial air pollution or providing an explanation for the phenomenon in affected communities.\nThis story would feature visual components like maps and other data graphics and photos and videos of coal trains and transportation routes.\nNext steps include: creating buffers and performing a spatial join to merge our demographic and geographic data. Then, I will take a look at demographic data at coal export locations nationwide. This analysis will precede a future analysis of complete train routes.\nThis page includes two parts: importing Census demographic data and mapping coal export locations. This test workflow will examine three communities where CSX rail lines run: Prince George’s County and Montgomery County in Maryland, and Jefferson County in West Virginia.\n\n\n\n# use this block for imports\nlibrary(leaflet) # for mapping\nlibrary(sf) # for mapping\nlibrary(janitor)\nlibrary(tidyverse)\nlibrary(tidycensus)"
  },
  {
    "objectID": "index.html#working-with-census-demographic-data",
    "href": "index.html#working-with-census-demographic-data",
    "title": "Where’s the coal? Export locations & demographics",
    "section": "Working with Census demographic data",
    "text": "Working with Census demographic data\n\n# Import demographic data\ncensus_county_stats = read.csv(\"data/census-county-stats.csv\")\n\n# List of counties you want to filter for\ncounties_to_keep &lt;- c(\"Prince George's County\", \"Montgomery County\", \"Jefferson County\")\n\n# List of states you want to filter for\nstates_to_keep &lt;- c(\"Maryland\", \"West Virginia\")\n\n# Filter the data frame\nfiltered_df &lt;- census_county_stats[census_county_stats$county %in% counties_to_keep & census_county_stats$state %in% states_to_keep, ]\n\n\n# Get state figures for comparison\n\nmaryland_stats &lt;- get_acs(geography = \"state\", variables = c( \"B01001_001\",\"B02001_002\",\"B02001_003\",\"B02001_004\",\"B03001_003\",\"B06012_002\",\"B19013_001\"), state=\"Maryland\", year = 2022) %&gt;%\n  select(GEOID, variable, estimate) %&gt;%\n  pivot_wider(names_from = variable, values_from = estimate) %&gt;%\n  rename(\n    total_pop = B01001_001,\n    white_pop = B02001_002,\n    black_pop = B02001_003,\n    native_pop = B02001_004,\n    hispanic_pop = B03001_003,\n    poverty_pop = B06012_002,\n    median_income = B19013_001\n  ) %&gt;%\n  mutate(pct_white = round(white_pop/total_pop, 2) * 100,\n         pct_nonwhite = 100 - round(white_pop/total_pop, 2) * 100,\n         pct_black = round(black_pop/total_pop, 2) * 100,\n         pct_native = round(native_pop/total_pop, 2) * 100,\n         pct_hispanic = round(hispanic_pop/total_pop, 2) * 100,\n         pct_poverty = round(poverty_pop/total_pop, 2) * 100\n         ) %&gt;%\n  clean_names()\n\n\nwva_stats &lt;- get_acs(geography = \"state\", variables = c( \"B01001_001\",\"B02001_002\",\"B02001_003\",\"B02001_004\",\"B03001_003\",\"B06012_002\",\"B19013_001\"), state=\"West Virginia\", year = 2022) %&gt;%\n  select(GEOID, variable, estimate) %&gt;%\n  pivot_wider(names_from = variable, values_from = estimate) %&gt;%\n  rename(\n    total_pop = B01001_001,\n    white_pop = B02001_002,\n    black_pop = B02001_003,\n    native_pop = B02001_004,\n    hispanic_pop = B03001_003,\n    poverty_pop = B06012_002,\n    median_income = B19013_001\n  ) %&gt;%\n  mutate(pct_white = round(white_pop/total_pop, 2) * 100,\n         pct_nonwhite = 100 - round(white_pop/total_pop, 2) * 100,\n         pct_black = round(black_pop/total_pop, 2) * 100,\n         pct_native = round(native_pop/total_pop, 2) * 100,\n         pct_hispanic = round(hispanic_pop/total_pop, 2) * 100,\n         pct_poverty = round(poverty_pop/total_pop, 2) * 100\n         ) %&gt;%\n  clean_names()\n\n \nTransport trains run through Hyattsville, Maryland (located in Prince George’s County), which is 14% white, 61% Black, 20% Hispanic, and has a 9% poverty rate. The median household income in PG County is $97935.\nIn Montgomery County (where Silver Spring is located), the population is 47% white, 19% Black, 20% Hispanic, and has a 7% poverty rate. The median household income in Montgomery County is $125,583.\nStatewide, the population is 51% white, 30% Black, 11% Hispanic, and has a 9% poverty rate. The median household income is $98,461.\n \nIn Jefferson County, West Virginia – where Harpers Ferry is located – the population is 84% white, 5% Black, 6% Hispanic, and has a 9% poverty rate. The median household income in Montgomery County is $93,744.\nStatewide, the population is 91% white, 3% Black, 2% Hispanic, and has a 16% poverty rate. The median household income in West Virginia is $55,217."
  },
  {
    "objectID": "index.html#mapping-coal-export-locations",
    "href": "index.html#mapping-coal-export-locations",
    "title": "Where’s the coal? Export locations & demographics",
    "section": "Mapping coal export locations",
    "text": "Mapping coal export locations\nIn Excel, I filtered the original global dataset to only coal export locations in the United States. That is the dataset that is imported here. The original data can be found and downloaded here.\nWe have our demographic data at a county and tract level, but we will be using counties for visualization since they render significantly faster in our browser. Tract-level data is available in the data folder.\n\n# import point and shapefiles for mapping\n\n# Load point data\ndata = read.csv(\"data/coal-export-terminals-us.csv\")\npoints_sf &lt;- st_as_sf(data, coords = c(\"Longitude\", \"Latitude\"), crs = 4269)\n\n# Load census county shapefiles\ncensus_counties &lt;- st_read(\"data/all_census_counties_us.shp\", quiet=TRUE)\n\n\n# Create the map\n# Quiet parameter turns off leaflet output text when it imports shapefile\nmap &lt;- leaflet(options = leafletOptions(preferCanvas = TRUE)) %&gt;%\n  addTiles() %&gt;%\n  setView(lng = -96.25, lat = 39.50, zoom = 4) %&gt;% \n  addPolygons(data = census_counties,\n              fillColor = \"lightgray\",\n              color = \"gray\",\n              weight = 1,\n              fillOpacity = 0.5) %&gt;% \n  addCircleMarkers(\n              data = points_sf,\n             color = \"red\",\n             opacity = 0.8,\n             weight = 2,\n             radius = 5)\n\n\nmap"
  }
]